## プロジェクト構成とファイル概要

```
.
└── apps
    ├── web
    │   ├── app
    │   │   ├── actions.ts        # フロントエンドからバックエンドへのAPIリクエストを管理するサーバーサイドアクション（RPCを使用）
    │   │   ├── page.tsx          # ユーザーが新しい投稿を作成するフォームを提供するフロントエンドのホームページコンポーネント
    │   │   └── tsconfig.json     # `web`アプリケーションのTypeScript設定ファイル
    ├── backend
    │   ├── tsconfig.json         # バックエンドアプリケーションのTypeScript設定ファイル
    │   └── src
    │       ├── api
    │       │   └── v1
    │       │       └── health
    │       │           ├── get
    │       │           │   ├── schema.ts        # `/api/v1/health` エンドポイントのリクエストおよびレスポンスのスキーマ定義
    │       │           │   ├── route.ts         # `/api/v1/health` エンドポイントのルート設定
    │       │           │   └── controller.ts    # `/api/v1/health` エンドポイントのリクエストを処理するコントローラー
    │       └── index.ts             # バックエンドサーバーのエントリーポイント。Honoフレームワークを使用してAPIサーバーを設定および起動
```


## 技術スタックの概要

- **Turborepo**: モノレポ管理ツールとして使用し、フロントエンド（`web`）とバックエンド（`backend`）の両方のアプリケーションを一元管理。
- **Next.js**: フロントエンドフレームワークとして使用し、サーバーサイドレンダリングや静的サイト生成を提供。
- **Hono**: 高性能なNode.js向けフレームワークとしてバックエンドAPIを構築。
- **RPC (Remote Procedure Call)**:
  - **使用箇所**: `apps/web/app/actions.ts` と `apps/backend/index.ts` で実装。
  - **概要**: フロントエンドとバックエンド間でリモートプロシージャコールを行うことで、型安全かつ効率的な通信を実現。
  - **具体的な実装**:
    - フロントエンドの `actions.ts` では、`Hono` クライアント (`hc<AppType>`) を使用してバックエンドのAPIエンドポイントに対してRPCリクエストを送信。
    - バックエンドの `index.ts` では、`AppType` を定義してRPCインターフェースを提供し、クライアントからのリクエストを受け付けて処理。
- **OpenAPI**: APIの仕様書を定義し、Swagger UIを通じてドキュメントを提供。

## RPCの具体的な流れ

1. **型定義の共有**:
   - バックエンドの `AppType` を `apps/backend/index.ts` で定義し、フロントエンドでこの型をインポートして使用することで、クライアントとサーバー間で共有された型安全な通信を実現します。

2. **クライアントからのRPCリクエスト**:
   - フロントエンドの `actions.ts` では、`Hono` クライアント (`hc<AppType>`) を使用して、バックエンドの`/api/v1/health`エンドポイントに対して`createPost`関数を介してリモートプロシージャコールを実行します。

3. **バックエンドでのリクエスト処理**:
   - バックエンドの `index.ts` で設定されたルートとコントローラーが、クライアントからのRPCリクエストを受け取り、適切に処理します。
   - コントローラー (`controller.ts`) はリクエストデータを検証し、ビジネスロジックを実行してレスポンスを生成します。

4. **レスポンスの返却**:
   - 処理結果がクライアントに返され、フロントエンドの`page.tsx`で結果がユーザーに表示されます。

